const POOL_SIZE=65536;if(!globalThis.ReadableStream)try{const e=require("node:process"),{emitWarning:r}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),e.emitWarning=r}catch(error){throw e.emitWarning=r,error}}catch(error){Object.assign(globalThis,require("web-streams-polyfill/dist/ponyfill.es2018.js"))}try{const{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(e){let r=0;const t=this;return new ReadableStream({type:"bytes",async pull(e){const a=t.slice(r,Math.min(t.size,r+65536)),i=await a.arrayBuffer();r+=i.byteLength,e.enqueue(new Uint8Array(i)),r===t.size&&e.close()}})})}catch(error){}